import{l as x}from"./xml-js-DLVM9Ca8.js";import{c as k}from"./@babel-BgIvLCQ5.js";var m={},_={},c={};Object.defineProperty(c,"__esModule",{value:!0});c.generator=void 0;c.generator="https://github.com/jpmonette/feed";var d={};Object.defineProperty(d,"__esModule",{value:!0});d.sanitize=void 0;function y(a){if(!(typeof a>"u"))return a.replace(/&/g,"&amp;")}d.sanitize=y;Object.defineProperty(_,"__esModule",{value:!0});var j=x,z=c,f=d;_.default=function(a){var t=a.options,n={_declaration:{_attributes:{version:"1.0",encoding:"utf-8"}},feed:{_attributes:{xmlns:"http://www.w3.org/2005/Atom"},id:t.id,title:t.title,updated:t.updated?t.updated.toISOString():new Date().toISOString(),generator:f.sanitize(t.generator||z.generator)}};t.author&&(n.feed.author=p(t.author)),n.feed.link=[],t.link&&n.feed.link.push({_attributes:{rel:"alternate",href:f.sanitize(t.link)}});var s=f.sanitize(t.feed||t.feedLinks&&t.feedLinks.atom);return s&&n.feed.link.push({_attributes:{rel:"self",href:f.sanitize(s)}}),t.hub&&n.feed.link.push({_attributes:{rel:"hub",href:f.sanitize(t.hub)}}),t.description&&(n.feed.subtitle=t.description),t.image&&(n.feed.logo=t.image),t.favicon&&(n.feed.icon=t.favicon),t.copyright&&(n.feed.rights=t.copyright),n.feed.category=[],a.categories.map(function(e){n.feed.category.push({_attributes:{term:e}})}),n.feed.contributor=[],a.contributors.map(function(e){n.feed.contributor.push(p(e))}),n.feed.entry=[],a.items.map(function(e){var r={title:{_attributes:{type:"html"},_cdata:e.title},id:f.sanitize(e.id||e.link),link:[{_attributes:{href:f.sanitize(e.link)}}],updated:e.date.toISOString()};e.description&&(r.summary={_attributes:{type:"html"},_cdata:e.description}),e.content&&(r.content={_attributes:{type:"html"},_cdata:e.content}),Array.isArray(e.author)&&(r.author=[],e.author.map(function(i){r.author.push(p(i))})),Array.isArray(e.category)&&(r.category=[],e.category.map(function(i){r.category.push(A(i))})),e.contributor&&Array.isArray(e.contributor)&&(r.contributor=[],e.contributor.map(function(i){r.contributor.push(p(i))})),e.published&&(r.published=e.published.toISOString()),e.copyright&&(r.rights=e.copyright),n.feed.entry.push(r)}),j.js2xml(n,{compact:!0,ignoreComment:!0,spaces:4})};var p=function(a){var t=a.name,n=a.email,s=a.link,e={name:t};return n&&(e.email=n),s&&(e.uri=f.sanitize(s)),e},A=function(a){var t=a.name,n=a.scheme,s=a.term;return{_attributes:{label:t,scheme:n,term:s}}},b={};Object.defineProperty(b,"__esModule",{value:!0});b.default=function(a){var t=a.options,n=a.items,s=a.extensions,e={version:"https://jsonfeed.org/version/1",title:t.title};return t.link&&(e.home_page_url=t.link),t.feedLinks&&t.feedLinks.json&&(e.feed_url=t.feedLinks.json),t.description&&(e.description=t.description),t.image&&(e.icon=t.image),t.author&&(e.author={},t.author.name&&(e.author.name=t.author.name),t.author.link&&(e.author.url=t.author.link)),s.map(function(r){e[r.name]=r.objects}),e.items=n.map(function(r){var i={id:r.id,content_html:r.content};if(r.link&&(i.url=r.link),r.title&&(i.title=r.title),r.description&&(i.summary=r.description),r.image&&(i.image=r.image),r.date&&(i.date_modified=r.date.toISOString()),r.published&&(i.date_published=r.published.toISOString()),r.author){var o=r.author;o instanceof Array&&(o=o[0]),i.author={},o.name&&(i.author.name=o.name),o.link&&(i.author.url=o.link)}return Array.isArray(r.category)&&(i.tags=[],r.category.map(function(u){u.name&&i.tags.push(u.name)})),r.extensions&&r.extensions.map(function(u){i[u.name]=u.objects}),i}),JSON.stringify(e,null,4)};var v={},g=k&&k.__assign||function(){return g=Object.assign||function(a){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(a[e]=t[e])}return a},g.apply(this,arguments)};Object.defineProperty(v,"__esModule",{value:!0});var S=x,O=c,l=d;v.default=function(a){var t=a.options,n=!1,s=!1,e={_declaration:{_attributes:{version:"1.0",encoding:"utf-8"}},rss:{_attributes:{version:"2.0"},channel:{title:{_text:t.title},link:{_text:l.sanitize(t.link)},description:{_text:t.description},lastBuildDate:{_text:t.updated?t.updated.toUTCString():new Date().toUTCString()},docs:{_text:t.docs?t.docs:"https://validator.w3.org/feed/docs/rss2.html"},generator:{_text:t.generator||O.generator}}}};t.language&&(e.rss.channel.language={_text:t.language}),t.ttl&&(e.rss.channel.ttl={_text:t.ttl}),t.image&&(e.rss.channel.image={title:{_text:t.title},url:{_text:t.image},link:{_text:l.sanitize(t.link)}}),t.copyright&&(e.rss.channel.copyright={_text:t.copyright}),a.categories.map(function(i){e.rss.channel.category||(e.rss.channel.category=[]),e.rss.channel.category.push({_text:i})});var r=t.feed||t.feedLinks&&t.feedLinks.rss;return r&&(n=!0,e.rss.channel["atom:link"]=[{_attributes:{href:l.sanitize(r),rel:"self",type:"application/rss+xml"}}]),t.hub&&(n=!0,e.rss.channel["atom:link"]||(e.rss.channel["atom:link"]=[]),e.rss.channel["atom:link"]={_attributes:{href:l.sanitize(t.hub),rel:"hub"}}),e.rss.channel.item=[],a.items.map(function(i){var o={};i.title&&(o.title={_cdata:i.title}),i.link&&(o.link={_text:l.sanitize(i.link)}),i.guid?o.guid={_text:i.guid}:i.id?o.guid={_text:i.id}:i.link&&(o.guid={_text:l.sanitize(i.link)}),i.date&&(o.pubDate={_text:i.date.toUTCString()}),i.published&&(o.pubDate={_text:i.published.toUTCString()}),i.description&&(o.description={_cdata:i.description}),i.content&&(s=!0,o["content:encoded"]={_cdata:i.content}),Array.isArray(i.author)&&(o.author=[],i.author.map(function(u){u.email&&u.name&&o.author.push({_text:u.email+" ("+u.name+")"})})),Array.isArray(i.category)&&(o.category=[],i.category.map(function(u){o.category.push(w(u))})),i.enclosure&&(o.enclosure=h(i.enclosure)),i.image&&(o.enclosure=h(i.image,"image")),i.audio&&(o.enclosure=h(i.audio,"audio")),i.video&&(o.enclosure=h(i.video,"video")),e.rss.channel.item.push(o)}),s&&(e.rss._attributes["xmlns:dc"]="http://purl.org/dc/elements/1.1/",e.rss._attributes["xmlns:content"]="http://purl.org/rss/1.0/modules/content/"),n&&(e.rss._attributes["xmlns:atom"]="http://www.w3.org/2005/Atom"),S.js2xml(e,{compact:!0,ignoreComment:!0,spaces:4})};var h=function(a,t){if(t===void 0&&(t="image"),typeof a=="string"){var n=new URL(a).pathname.split(".").slice(-1)[0];return{_attributes:{url:a,length:0,type:t+"/"+n}}}var s=new URL(a.url).pathname.split(".").slice(-1)[0];return{_attributes:g({length:0,type:t+"/"+s},a)}},w=function(a){var t=a.name,n=a.domain;return{_text:t,_attributes:{domain:n}}};Object.defineProperty(m,"__esModule",{value:!0});m.Feed=void 0;var L=_,C=b,I=v,P=function(){function a(t){var n=this;this.items=[],this.categories=[],this.contributors=[],this.extensions=[],this.addItem=function(s){return n.items.push(s)},this.addCategory=function(s){return n.categories.push(s)},this.addContributor=function(s){return n.contributors.push(s)},this.addExtension=function(s){return n.extensions.push(s)},this.atom1=function(){return L.default(n)},this.rss2=function(){return I.default(n)},this.json1=function(){return C.default(n)},this.options=t}return a}();m.Feed=P;
